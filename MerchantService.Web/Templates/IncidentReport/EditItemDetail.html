<div>
    <div class="panel panel-default" ng-controller="editItemDetailsController">
             <div class="panel-heading"><span>{{itemPage}}</span></div>
        <div class="panel-body">
            <br />
            <form name="addNewItem" novalidate>
                <div class="form-horizontal">
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="itemnameen"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.ItemNameEn.$touched && addNewItem.ItemNameEn.$invalid }">
                                    <input type="text" name="ItemNameEn" class="form-control" ng-model="addNewItemProfile.ItemNameEn" maxlength="255" required tabindex="1" auto-focus="isFocusIn">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.ItemNameEn.$error" ng-if="addNewItem.ItemNameEn.$touched">
                                        <p ng-message="required" class="text-error">{{itemNameEnRequired}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="itemflavouren"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.ItemFlavourEn.$touched && addNewItem.ItemFlavourEn.$invalid }">
                                    <input type="text" name="ItemFlavourEn" class="form-control" ng-model="addNewItemProfile.FlavourEn" maxlength="255" required tabindex="3">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.ItemFlavourEn.$error" ng-if="addNewItem.ItemFlavourEn.$touched">
                                        <p ng-message="required" class="text-error">{{itemFlavourEnRequired}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="barcode"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.barCode.$touched && addNewItem.barCode.$invalid }">
                                    <input type="text" disabled="true" name="barCode" class="form-control" ng-model="addNewItemProfile.Barcode" maxlength="18" required tabindex="5">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.barCode.$error" ng-if="addNewItem.barCode.$touched">
                                        <p ng-message="required" class="text-error">{{barCodeRequired}}</p>
                                        <p class="text-error" ng-show="isbarcodeExists">{{barcodeExists}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="unittype"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.unit.$touched && addNewItem.unit.$invalid }">
                                    <ui-select name="unit" ng-model="addNewItemProfile.UnitParamTypeId" required tabindex="7">
                                        <ui-select-match placeholder="Select Unit Type">{{$select.selected.Name}}</ui-select-match>
                                        <ui-select-choices repeat="unitType.Id as unitType in unitList | filter: $select.search ">
                                            <div ng-bind-html="unitType.Name | highlight: $select.search" name="{{unitType.Name}}"></div>
                                        </ui-select-choices>
                                    </ui-select>
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.unit.$error" ng-if="addNewItem.unit.$touched">
                                        <p ng-message="required" class="text-error">{{unitTypeRequired}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="baseunitcount"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.baseunitcount.$touched && addNewItem.baseunitcount.$invalid }">
                                    <input type="text" class="form-control" id="baseunitcount" name="baseunitcount" ng-model="addNewItemProfile.BaseUnit" maxlength="6" ng-pattern="/^0*(?:[1-9][0-9]{5}|[1-9][0-9]{4}|[1-9][0-9]{3}|[1-9][0-9]{2}|[1-9][0-9]|[1-9])$/" tabindex="9">
                                    <div class="help-block" ng-messages="addNewItem.baseunitcount.$error" ng-if="addNewItem.baseunitcount.$touched">
                                        <p ng-message="pattern" class="text-error"><span>{{validBaseUnitCount}}</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="itemtype"></span>:</label>
                                <div class="col-sm-6" ng-class="{ 'has-error': addNewItem.itemType.$touched && addNewItem.itemType.$invalid }">
                                    <input name="itemType" type="text" maxlength="255" ng-model="itemType" ng-click="itemTypePopup()" class="form-control no-color" id="" readonly required tabindex="11">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.itemType.$error" ng-if="addNewItem.itemType.$touched">
                                        <p ng-message="required" class="text-error">{{itemTypeRequired}}</p>
                                    </div>
                                </div>
                                <div class="col-sm-2 p-0">
                                    <a ng-click="itemTypePopup()" class="pointer" name="select-item-link"><span string-replace="selectItem"></span></a>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="profitmargin"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.profitMargin.$touched && addNewItem.profitMargin.$invalid }">
                                    <div class="input-group">
                                        <input name="profitMargin" type="text" class="form-control" ng-model="addNewItemProfile.ProfitMargin" maxlength="3" pattern="[0-9]*\.?[0-9]*" required tabindex="13"><span class="input-group-addon">%</span>
                                    </div>
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.profitMargin.$error" ng-if="addNewItem.profitMargin.$touched">
                                        <p ng-message="required" class="text-error">{{profitMarginRequired}}</p>
                                        <p ng-message="pattern" class="text-error"><span>{{validProfitMargin}}</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="isofferitem"></span>:</label>
                                <div class="col-sm-8">
                                    <div class="checkbox"> <label> <input type="checkbox" name="offer-item" ng-model="addNewItemProfile.IsOfferItem" tabindex="15"></label> </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="isactivate"></span>:</label>
                                <div class="col-sm-8">
                                    <div class="checkbox"> <label> <input type="checkbox" name="isactive" ng-model="addNewItemProfile.IsActive" ng-disabled="isActive" tabindex="17"></label> </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="isautomaticpo"></span>:</label>
                                <div class="col-sm-8">
                                    <div class="checkbox"> <label> <input type="checkbox" name="automatic-po" ng-model="addNewItemProfile.IsAutomaticPO" ng-disabled="isAutomaticPo" tabindex="19"></label> </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="itemnamear"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.itemNameAr.$touched && addNewItem.itemNameAr.$invalid }">
                                    <input type="text" name="itemNameAr" class="form-control" ng-model="addNewItemProfile.ItemNameSl" maxlength="255" required tabindex="2">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.itemNameAr.$error" ng-if="addNewItem.itemNameAr.$touched">
                                        <p ng-message="required" class="text-error">{{itemNameSlRequired}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="itemflavoursl"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.itemFlavourAr.$touched && addNewItem.itemFlavourAr.$invalid }">
                                    <input type="text" name="itemFlavourAr" class="form-control" ng-model="addNewItemProfile.FlavourSl" maxlength="255" required tabindex="4">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.itemFlavourAr.$error" ng-if="addNewItem.itemFlavourAr.$touched">
                                        <p ng-message="required" class="text-error">{{itemFlavourSlRequired}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="itemcode"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.itemCode.$touched && addNewItem.itemCode.$invalid }">
                                    <input type="text" disabled="true" name="itemCode" class="form-control" ng-model="addNewItemProfile.Code" maxlength="20" required tabindex="6">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.itemCode.$error" ng-if="addNewItem.itemCode.$touched">
                                        <p ng-message="required" class="text-error">{{itemCodeRequired}}</p>
                                        <p class="text-error" ng-show="isItemCodeExists">{{itemCodeisExists}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="sellprice"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.sellPrice.$touched && addNewItem.sellPrice.$invalid }">
                                    <input ng-disabled="isSellPriceDisabled" type="text" name="sellPrice" class="form-control" ng-model="addNewItemProfile.SellPrice" maxlength="13" pattern="^\d{1,8}(\.\d{1,4})?$" required tabindex="8">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.sellPrice.$error" ng-if="addNewItem.sellPrice.$touched">
                                        <p ng-message="required" class="text-error">{{sellPriceRequired}}</p>
                                        <p ng-message="pattern" class="text-error"><span>{{itemValidSellPrice}}</span></p>
                                        <p class="text-error" ng-show="isSellPriceNotValid">{{sellPriceNotValid}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="sellpricea"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.sellPriceA.$touched && addNewItem.sellPriceA.$invalid }">
                                    <input ng-disabled="isSellPriceADisabled" type="text" id="sellPriceA" name="sellPriceA" class="form-control" ng-model="addNewItemProfile.SellPriceA" maxlength="13" pattern="^\d{1,8}(\.\d{1,4})?$" tabindex="10">
                                    <div class="help-block" ng-messages="addNewItem.sellPriceA.$error" ng-if="addNewItem.sellPriceA.$touched">
                                        <p ng-message="pattern" class="text-error"><span>{{itemValidSellPriceA}}</span></p>
                                        <p class="text-error" ng-show="isSellPriceANotValid">{{sellPriceANotValid}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="sellpriceb"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.sellPriceB.$touched && addNewItem.sellPriceB.$invalid }">
                                    <input ng-disabled="isSellPriceBDisabled" type="text" id="sellPriceB" name="sellPriceB" class="form-control" ng-model="addNewItemProfile.SellPriceB" maxlength="13" pattern="^\d{1,8}(\.\d{1,4})?$" tabindex="12">
                                    <div class="help-block" ng-messages="addNewItem.sellPriceB.$error" ng-if="addNewItem.sellPriceB.$touched">
                                        <p ng-message="pattern" class="text-error"><span>{{itemValidSellPriceB}}</span></p>
                                        <p class="text-error" ng-show="isSellPriceBNotValid">{{sellPriceBNotValid}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="sellpricec"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.sellPriceC.$touched && addNewItem.sellPriceC.$invalid }">
                                    <input ng-disabled="isSellPriceCDisabled" type="text" id="sellPriceC" name="sellPriceC" class="form-control" ng-model="addNewItemProfile.SellPriceC" maxlength="13" pattern="^\d{1,8}(\.\d{1,4})?$" tabindex="14">
                                    <div class="help-block" ng-messages="addNewItem.sellPriceC.$error" ng-if="addNewItem.sellPriceC.$touched">
                                        <p class="text-error" ng-show="isSellPriceCNotValid">{{sellPriceCNotValid}}</p>
                                        <p ng-message="pattern" class="text-error"><span>{{itemValidSellPriceC}}</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="sellpriced"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.sellPriceD.$touched && addNewItem.sellPriceD.$invalid }">
                                    <input ng-disabled="isSellPriceDDisabled" id="sellPriceD" name="sellPriceD" type="text" class="form-control" ng-model="addNewItemProfile.SellPriceD" maxlength="13" pattern="^\d{1,8}(\.\d{1,4})?$" tabindex="16">
                                    <div class="help-block" ng-messages="addNewItem.sellPriceD.$error" ng-if="addNewItem.sellPriceD.$touched">
                                        <p class="text-error" ng-show="isSellPriceDNotValid">{{sellPriceDNotValid}}</p>
                                        <p ng-message="pattern" class="text-error"><span>{{itemValidSellPriceD}}</span></p>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-sm-4 p-0"><span string-replace="costprice"></span>:</label>
                                <div class="col-sm-8" ng-class="{ 'has-error': addNewItem.costPrice.$touched && addNewItem.costPrice.$invalid }">
                                    <input ng-disabled="isCostPriceDisabled" type="text" name="costPrice" class="form-control" ng-model="addNewItemProfile.CostPrice" maxlength="13" pattern="^\d{1,8}(\.\d{1,4})?$" required tabindex="18">
                                    <span class="error">*</span>
                                    <div class="help-block" ng-messages="addNewItem.costPrice.$error" ng-if="addNewItem.costPrice.$touched">
                                        <p ng-message="required" class="text-error">{{costPriceRequired}}</p>
                                        <p ng-message="pattern" class="text-error"><span>{{validCostPriceError}}</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-10 col-lg-offset-2 p-0">
                            <p class="text-error" ng-show="isbranchNameExists">{{branchNameExists}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group">
                            <label class="control-label col-lg-2"><span string-replace="branchname"></span>:</label>
                            <div class="col-lg-10">
                                <div class="row" ng-repeat="element in addNewItemProfile.ListOfItemQuantityList">
                                    <div class="col-lg-3">
                                        <div class="form-group">
                                            <label class="control-label">{{addNewItemProfile.BranchName}}</label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <label class="control-label"><span string-replace="actualquantity"></span></label>
                                        <input type="text" name="Actual" class="form-control" maxlength="6" ng-pattern="/^0*(?:[1-9][0-9]{5}|[1-9][0-9]{4}|[1-9][0-9]{3}|[1-9][0-9]{2}|[1-9][0-9]|[1-9])$/" placeholder="Actual Quantity" ng-model="element.ActualQuantity">
                                        <div class="help-block" ng-if="checkIntegerActual(element.ActualQuantity,$index)">
                                            <p class="text-error"><span>{{validActualQuantityError}}</span></p>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <label class="control-label"><span string-replace="maxquantity"></span></label>
                                        <input type="text" name="MaxiMum" class="form-control" maxlength="6" ng-pattern="/^0*(?:[1-9][0-9]{5}|[1-9][0-9]{4}|[1-9][0-9]{3}|[1-9][0-9]{2}|[1-9][0-9]|[1-9])$/" placeholder="Max Quantity" ng-model="element.MaximumQuantity" ng-change="compareMaxMinWithIndex(element.MinimumQuantity,element.MaximumQuantity,$index)">
                                        <div class="help-block" ng-if="checkIntegerMax(element.MaximumQuantity,$index)">
                                            <p class="text-error"><span>{{validMaximumQuantityError}}</span></p>
                                        </div>
                                    </div>
                                    <div class="col-lg-2">
                                        <label class="control-label"><span string-replace="minquantity"></span></label>
                                        <input type="text" name="MiniMums" class="form-control" maxlength="6" ng-pattern="/^0*(?:[1-9][0-9]{5}|[1-9][0-9]{4}|[1-9][0-9]{3}|[1-9][0-9]{2}|[1-9][0-9]|[1-9])$/" placeholder="Min Quantity" ng-model="element.MinimumQuantity" ng-change="compareMaxMinWithIndex(element.MinimumQuantity,element.MaximumQuantity,$index)">
                                        <div class="help-block" ng-if="checkIntegerMin(element.MinimumQuantity,$index)">
                                            <p class="text-error"> <span>{{validMinimumQuantityError}}</span></p>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row text-center">
                    <button class="btn btn-primary m-r-15" ng-click="updateItemDetails(addNewItemProfile)" ng-disabled="addNewItem.$invalid || isSaveButtonDisabled" name="update-main-item-btn"><span string-replace="save"></span></button>
                    <button name="cancel-btn" class="btn btn-default" ng-click="cancelButtonEvent(addNewItemProfile.PosIncidentReportId)"><span string-replace="cancelpos"> </span></button>
                </div>
            </form>
        </div>
        <div id="busyindicator" class="busy-indicator" ng-show="isDataLoading">
            <img src="/Content/Images/Loader.gif" />
        </div>

    </div>
</div>

